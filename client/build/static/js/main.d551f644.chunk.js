(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(37)},28:function(e,t,a){},30:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(19),s=a.n(r),c=(a(28),a(2)),i=a(3),l=a(5),m=a(4),u=a(6),p=a(20),h=a(13),d=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={input:""},a.onChange=function(e){a.setState({input:e.target.value})},a.onSubmit=function(e){a.props.searchMovie(a.state.input)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("nav",{className:"text-center p-3 mb-5"},o.a.createElement("h1",null,"The Cinemates"),o.a.createElement("form",{onSubmit:this.onSubmit,action:"/search",method:"GET"},o.a.createElement("input",{name:"input",placeholder:"search movie",onChange:this.onChange}),o.a.createElement("button",{type:"submit"},"Search")))}}]),t}(n.Component),v=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={movie:[],index:0},a.nextSlide=function(){80!==a.state.index&&a.setState({index:a.state.index+20})},a.prevSlide=function(){0!==a.state.index&&a.setState({index:a.state.index-20})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("header",{className:"container slide-show"},o.a.createElement("span",{className:"slide-btn prev",onClick:this.prevSlide},"\u25c4"),o.a.createElement("span",{className:"slide-btn next",onClick:this.nextSlide},"\u25b6"),o.a.createElement("div",{className:"img-wrapper d-flex slide",style:{transform:"translate(-".concat(this.state.index,"%)")}},this.props.movies.slice(0,5).map(function(e){return o.a.createElement("div",{className:"hero",key:e.id},o.a.createElement("img",{className:"img-fluid",src:"https://image.tmdb.org/t/p/original/".concat(e.backdrop_path),alt:"hero"}),o.a.createElement("h3",{className:"display-4 p-3"},e.title))})))}}]),t}(n.Component),f=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={overview:a.props.movie.overview,backdrop_path:a.props.movie.backdrop_path,id:a.props.movie.id},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.movie,t=e.title,a=e.poster_path;return o.a.createElement("div",{className:"col-lg-2 col-md-3 col-12 movie p-0 shadow-lg",onMouseEnter:this.props.mouseEnter,onMouseLeave:this.props.mouseLeave,onClick:this.props.showInfo.bind(this,this.state.overview,this.state.backdrop_path,this.state.id,this.props.movie.title)},o.a.createElement("img",{src:"https://image.tmdb.org/t/p/original/".concat(a),alt:t,className:"w-100"}))}}]),t}(n.Component),E=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.props.movies.map(function(t){return o.a.createElement(f,{key:t.id,movie:t,mouseEnter:e.props.mouseEnter,mouseLeave:e.props.mouseLeave,showInfo:e.props.showInfo})})}}]),t}(n.Component),b=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("ul",null,o.a.createElement("li",null,"Trending"),o.a.createElement("li",null,"Popular"),o.a.createElement("li",null,"Best rated")))}}]),t}(n.Component),g=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).closeModal=function(){console.log("clicked"),document.querySelector(".modal").classList.remove("show"),document.querySelector("iframe").src=""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"modal"},o.a.createElement("span",{className:"close",onClick:this.closeModal},"\xd7"),o.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},o.a.createElement("div",{className:"modal-content p-4",style:{background:"url(\n              https://image.tmdb.org/t/p/original/".concat(this.props.movieInfo.backdropPath,"\n            ) no-repeat")}},o.a.createElement("div",{className:"modal-body row p-0 justify-content-around align-items-center"},o.a.createElement("div",{className:"info col-lg-5"},o.a.createElement("h3",{className:"display-4 font-weight-bold"},this.props.movieInfo.title),o.a.createElement("p",null,this.props.movieInfo.overview)),o.a.createElement("div",{className:"trailer col-lg-6 p-0"},o.a.createElement("div",{className:"videoWrapper"},o.a.createElement("iframe",{allowFullScreen:!0,src:"https://www.youtube.com/embed/".concat(this.props.movieInfo.trailer,"?&autoplay=1&mute=1&")})))))))}}]),t}(n.Component),w=a(14),y=(a(30),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={page:1,movies:[],movieInfo:{title:void 0,overview:void 0,backdropPath:void 0,trailer:void 0}},a.parseData=function(e){a.setState({movies:a.state.movies.concat(e.results),page:e.page})},a.loadMore=function(){a.state.page},a.showInfo=function(e,t,n,o){console.log("clicked"),fetch("https://api.themoviedb.org/3/movie/".concat(n,"/videos?api_key=8b3aa7357a1283c0b7821398836c387f&language=en-US")).then(function(e){return e.json()}).then(function(n){a.setState({movieInfo:{overview:e,backdropPath:t,trailer:n.results[0].key,title:o}})}),document.querySelector(".modal").classList.add("show")},a.mouseEnter=function(e){document.querySelectorAll(".movie").forEach(function(e){e.classList.add("gray-scale")}),e.target.classList.remove("gray-scale")},a.mouseLeave=function(){document.querySelectorAll(".movie").forEach(function(e){e.classList.remove("gray-scale")})},a.searchMovie=function(e){console.log(e),a.setState({movies:[]}),fetch("/search").then(function(e){return e.json()}).then(function(e){a.parseData(e),console.log(e)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(e){var t=this;fetch("/discover",{headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){t.parseData(e),console.log(e.total_pages)})}},{key:"render",value:function(){var e=this;return o.a.createElement(p.a,null,o.a.createElement("div",null,o.a.createElement(d,{searchMovie:this.searchMovie}),o.a.createElement(v,{mouseEnter:this.mouseEnter,mouseLeave:this.mouseLeave,movies:this.state.movies,showInfo:this.showInfo}),o.a.createElement(b,null),o.a.createElement(g,{movieInfo:this.state.movieInfo}),o.a.createElement(h.a,{path:"/",render:function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container-fluid"},o.a.createElement(w.a,{dataLength:e.state.movies.length,next:e.loadMore,hasMore:!0,className:"row movie-wrapper",loader:o.a.createElement("div",{className:"loader",key:0},"Loading ...")},o.a.createElement(E,{mouseEnter:e.mouseEnter,mouseLeave:e.mouseLeave,movies:e.state.movies,showInfo:e.showInfo}))))}}),o.a.createElement(h.a,{path:"/search",render:function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container-fluid"},o.a.createElement(w.a,{dataLength:e.state.movies.length,next:e.loadMore,hasMore:!0,className:"row movie-wrapper",loader:o.a.createElement("div",{className:"loader",key:0},"Loading ...")},o.a.createElement(E,{mouseEnter:e.mouseEnter,mouseLeave:e.mouseLeave,movies:e.state.movies,showInfo:e.showInfo}))))}})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.d551f644.chunk.js.map